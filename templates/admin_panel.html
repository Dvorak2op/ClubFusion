{% extends "dashboard_layout.html" %}
{% block title %}Admin Panel{% endblock %}
{% block dashboard_content %}
<div class="content-header">
    <h2><i class="fas fa-user-shield"></i> Admin Panel</h2>
</div>

<div class="stats-container">
    <div class="stat-card"><i class="fas fa-users"></i><div class="stat-info"><span class="stat-number">{{ stats.total_users }}</span><span class="stat-label">Total Users</span></div></div>
    <div class="stat-card"><i class="fas fa-layer-group"></i><div class="stat-info"><span class="stat-number">{{ stats.total_clubs }}</span><span class="stat-label">Total Clubs</span></div></div>
    <div class="stat-card"><i class="fas fa-calendar-check"></i><div class="stat-info"><span class="stat-number">{{ stats.total_events }}</span><span class="stat-label">Total Events</span></div></div>
</div>

<div class="content-card" style="margin-top: 30px;">
    <h3>Club & User Overview</h3>
    <div class="table-container">
        <table class="data-table">
            <thead>
                <tr><th>Club Name</th><th>Manager</th><th>Members</th><th>Actions</th></tr>
            </thead>
            <tbody>
                {% for club in all_clubs %}
                <tr>
                    <td>{{ club.name }}</td>
                    <td>{{ club.manager.username }} ({{ club.manager.role }})</td>
                    <td>{{ club.members.count() }}</td>
                    <td><a href="{{ url_for('manage_club', club_id=club.id) }}" class="btn btn-sm">View Details</a></td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}